{"version":3,"file":"deck.gl-leaflet.umd.js","sources":["../src/deck-utils.ts","../src/leaflet-layer.ts"],"sourcesContent":["import * as L from 'leaflet';\nimport { Deck } from '@deck.gl/core';\nimport type { DeckProps, ViewStateMap, MapView } from '@deck.gl/core';\n\nfunction getViewState(map: L.Map): ViewStateMap<MapView> {\n  return {\n    longitude: map.getCenter().lng,\n    latitude: map.getCenter().lat,\n    zoom: map.getZoom() - 1,\n    pitch: 0,\n    bearing: 0\n  };\n}\n\nexport function createDeckInstance(map: L.Map, container: HTMLDivElement, deck: Deck | undefined, props: DeckProps): Deck {\n  if (!deck) {\n    const viewState = getViewState(map);\n    deck = new Deck({\n      ...props,\n      parent: container,\n      controller: false,\n      style: { zIndex: 'auto' },\n      viewState,\n    });\n  }\n  return deck;\n}\n\nexport function updateDeckView(deck: Deck, map: L.Map): void {\n  const viewState = getViewState(map);\n  // console.log(viewState);\n\n  deck.setProps({ viewState });\n  deck.redraw();\n}\n","import * as L from 'leaflet';\nimport type { Deck, DeckProps } from '@deck.gl/core';\nimport { createDeckInstance, updateDeckView } from './deck-utils.js';\n\nexport class LeafletLayer extends L.Layer {  \n  props: DeckProps;\n  _container: HTMLDivElement | undefined = undefined;\n  _deck: Deck | undefined = undefined;\n  _animate: boolean | undefined = undefined;\n\n  constructor(props: DeckProps) {\n    super();\n\n    this.props = props;\n  }\n\n  onAdd(): this {\n    let pane = this.getPane();\n    if (!pane) {\n      return this;\n    }\n\n    this._container = L.DomUtil.create('div');\n    this._container.className = 'leaflet-layer';\n    if (this.#getZoomAnimated()) {\n      L.DomUtil.addClass(this._container, 'leaflet-zoom-animated');\n    }\n\n    pane.appendChild(this._container);\n    this._deck = createDeckInstance(this._map, this._container, this._deck, this.props);\n    this.#update();\n\n    return this;\n  }\n\n  onRemove(_map: L.Map): this {\n    if (!this._container || !this._deck) {\n      return this;\n    }\n\n    L.DomUtil.remove(this._container);\n    this._container = undefined;\n\n    this._deck.finalize();\n    this._deck = undefined;\n\n    return this;\n  }\n\n  getEvents(): { [name: string]: L.LeafletEventHandlerFn } {\n    return {\n      viewreset: this.#reset,\n      movestart: this.#onMoveStart,\n      moveend: this.#onMoveEnd,\n      zoomstart: this.#onZoomStart,\n      zoom: this.#onZoom,\n      zoomend: this.#onZoomEnd,\n      ...(this.#getZoomAnimated() ? { zoomanim: this.#onAnimZoom as L.LeafletEventHandlerFn } : {}),\n    };\n  }\n\n  setProps(props: DeckProps): void {\n    Object.assign(this.props, props);\n\n    if (this._deck) {\n      this._deck.setProps(props);\n    }\n  }\n\n  pickObject(opts: Parameters<Deck['pickObject']>[0]): ReturnType<Deck['pickObject']> {\n    if (!this._deck) {\n      return null;\n    }\n\n    return this._deck.pickObject(opts);\n  }\n\n  pickMultipleObjects(opts: Parameters<Deck['pickMultipleObjects']>[0]): ReturnType<Deck['pickMultipleObjects']> {\n    if (!this._deck) {\n      return [];\n    }\n\n    return this._deck.pickMultipleObjects(opts);\n  }\n\n  pickObjects(opts: Parameters<Deck['pickObjects']>[0]): ReturnType<Deck['pickObjects']> {\n    if (!this._deck) {\n      return [];\n    }\n\n    return this._deck.pickObjects(opts);\n  }\n\n  #getMap(): L.Map & { _animatingZoom: boolean, _getMapPanePos: () => L.Point } {\n    return (this as any)._map;\n  }\n\n  #getZoomAnimated(): boolean {\n    return (this as any)._zoomAnimated;\n  }\n\n  #update(): void {\n    if (!this._container || !this._deck) {\n      return;\n    }\n    if (this.#getMap()._animatingZoom) {\n      return;\n    }\n\n    const size = this.#getMap().getSize();\n    this._container.style.width = `${size.x}px`;\n    this._container.style.height = `${size.y}px`;\n\n    // invert map position\n    const offset = this.#getMap()._getMapPanePos().multiplyBy(-1);\n    L.DomUtil.setPosition(this._container, offset);\n\n    updateDeckView(this._deck, this._map);\n  }\n\n  #pauseAnimation(): void {\n    if (!this._deck) {\n      return;\n    }\n\n    if (this._deck.props._animate) {\n      this._animate = this._deck.props._animate;\n      this._deck.setProps({ _animate: false });\n    }\n  }\n\n  #unpauseAnimation(): void {\n    if (!this._deck) {\n      return;\n    }\n\n    if (this._animate) {\n      this._deck.setProps({ _animate: this._animate });\n      this._animate = undefined;\n    }\n  }\n\n  #reset(): void {\n\t\tthis.#updateTransform(this.#getMap().getCenter(), this.#getMap().getZoom());\n\t\tthis.#update();\n  }\n\n  #onMoveStart(): void {\n    this.#pauseAnimation();\n  }\n\n  #onMoveEnd(): void {\n    this.#update();\n    this.#unpauseAnimation();\n  }\n\n  #onZoomStart(): void {\n    this.#pauseAnimation();\n  }\n\n  #onAnimZoom(event: L.ZoomAnimEvent): void {\n    this.#updateTransform(event.center, event.zoom);\n  }\n\n  #onZoom(): void {\n    this.#updateTransform(this.#getMap().getCenter(), this.#getMap().getZoom());\n  }\n\n  #onZoomEnd(): void {\n    this.#unpauseAnimation();\n  }\n\n  /**\n   * see https://stackoverflow.com/a/67107000/1823988\n   * see L.Renderer._updateTransform https://github.com/Leaflet/Leaflet/blob/master/src/layer/vector/Renderer.js#L90-L105\n   */\n  #updateTransform(center: L.LatLng, zoom: number): void {\n    if (!this._container) {\n      return;\n    }\n\n    const scale = this.#getMap().getZoomScale(zoom, this.#getMap().getZoom());\n    const position = L.DomUtil.getPosition(this._container);\n    const viewHalf = this.#getMap().getSize().multiplyBy(0.5);\n    const currentCenterPoint = this.#getMap().project(this.#getMap().getCenter(), zoom);\n    const destCenterPoint = this.#getMap().project(center, zoom);\n    const centerOffset = destCenterPoint.subtract(currentCenterPoint);\n    const topLeftOffset = viewHalf.multiplyBy(-scale).add(position).add(viewHalf).subtract(centerOffset);\n\n    if (L.Browser.any3d) {\n      L.DomUtil.setTransform(this._container, topLeftOffset, scale);\n    } else {\n      L.DomUtil.setPosition(this._container, topLeftOffset);\n    }\n  }\n}\n"],"names":["Deck","L"],"mappings":"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"}